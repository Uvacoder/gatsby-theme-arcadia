# Arcadia - Gatsby Theme

[![Netlify Status](https://api.netlify.com/api/v1/badges/cb2c10e9-b682-4531-9a64-5c9fb88545bf/deploy-status)](https://app.netlify.com/sites/gatsby-arcadia/deploys)

Arcadia is a modern, beatiful and customizable theme for Gatsby.

## Features

- Support for Three.js animations.
- Easy to create and manage MDX sections.
- GitHub API support to display your pinned repositories.
- Codepen section to showcase your pens.
- Contact form with Netlify support.
- Great accessibility & SEO.
- Google Analytics ready to use.
- Easy to customize theme using Styled Components.
- Clear project structure.

## Installation

To start using Arcadia run the following commands in your terminal:

```bash
git clone <yoursite> https://github.com/danielkvist/gatsby-arcadia-starter
cd <yoursite>
yarn && yarn run develop
```

> **Note**: Arcadia hasn't yet been added to the Gatsby starters gallery, so the command `gatsby new <yoursite> github.com/danielkvist/gatsby-arcadia-starter` does not work for the moment.

## Gatsby config

As you may already know, the main Gatsby configuration file is divided into two sections.

### Site Metadata

```js
const siteMetadata = {
  title: "Gatsby Arcadia",
  description: "A modern and awesome starter for Gatsby.",
  author: "@danielkvist",
  email: "yourmail@yourmailprovider.com",
  siteUrl: "https://gatsby-arcadia.netlify.app/",
  netlifyForm: false,
  copy: "",
  codepen: [
    {
      name: "React Calculator",
      description: "A short description.",
      image: "calculator.png",
      url: "#",
    },
    {
      name: "React Calendar Component",
      description: "A short description.",
      image: "calendar.png",
      url: "#",
    },
    {
      name: "Magic Bonfire",
      description: "A short description.",
      image: "magic-bonfire.png",
      url: "#",
    },
    {
      name: "React Markdown Editor",
      description: "A short description.",
      image: "markdown.png",
      url: "#",
    },
    {
      name: "Pomodoro w/ React Context",
      description: "A short description.",
      image: "pomodoro.png",
      url: "#",
    },
    {
      name: "Sign in/Sing Up form",
      description: "A short description.",
      image: "signin-singup.jpg",
      url: "#",
    },
  ],
  externalLinks: [
    {
      name: "Twitter",
      url: "#",
    },
    {
      name: "Facebook",
      url: "#",
    },
    {
      name: "Instagram",
      url: "#",
    },
    {
      name: "Codepen",
      url: "#",
    },
    {
      name: "GitHub",
      url: "#",
    },
    {
      name: "GitLab",
      url: "#",
    },
  ],
}
```

`title` and the `description` values will be used as title and description of the site if the `Layout` component does not receive other different values.

`email` value will be showed as a floating link above the footer, in the right-hand corner.

`siteUrl` is required for the plugin `gatsby-plugin-sitemap` to work properly.

`netlifyForm` boolean enables or disable Netlify's form, but not disables the form itself. It just won't work.

`copy` message will be displayed in the footer, if no copy message is provided an autogenerated one will be showed.

`codepen` is an array with a list of pens that will be showed in the Codepen's showcase section, under your GitHub's section. The images used should be compressed before using them.

`externalLinks` is another array of external links that will be showed in the footer.

### Plugins

```js
const plugins = [
  "gatsby-plugin-react-helmet",
  {
    resolve: "gatsby-plugin-google-fonts",
    options: {
      fonts: [
        `roboto\:400,600,700`,
        `roboto mono\:400,600,700`,
        `roboto slab\:400,600,700`,
      ],
      display: "swap",
    },
  },
  "gatsby-plugin-styled-components",
  "gatsby-plugin-sharp",
  "gatsby-remark-images",
  {
    resolve: "gatsby-plugin-mdx",
    options: {
      gatsbyRemarkPlugins: [
        {
          resolve: "gatsby-remark-images",
          options: {
            maxWidth: 1035,
            sizeByPixelDesinity: true,
            remarkPlugins: [emoji],
          },
        },
      ],
    },
  },
  {
    resolve: "gatsby-source-filesystem",
    options: {
      name: "sections",
      path: `${__dirname}/content/sections/`,
    },
  },
  process.env.GITHUB_API_TOKEN && {
    resolve: `gatsby-source-github-api`,
    options: {
      token: `${process.env.GITHUB_API_TOKEN}`,
      variables: {},
      graphQLQuery: `
        query {
          viewer {
            pinnedItems(first: 6) {
              edges {
                node {
                  ... on Repository {
                    id
                    name
                    description
                    url
                  }
                }
              }
            }
          }
        }
        `,
    },
  },
  process.env.GOOGLE_ANALYTICS_KEY && {
    resolve: `gatsby-plugin-google-analytics`,
    options: {
      trackingId: `${process.env.GOOGLE_ANALYTICS_KEY}`,
      head: false,
      anonymize: true,
      respectDNT: true,
      defer: true,
      sampleRate: 5,
      siteSpeedSampleRate: 10,
    },
  },
].filter(Boolean)
```

Here is a link to the official documentation for each plugin:

- [gatsby-plugin-react-helmet](https://www.gatsbyjs.org/packages/gatsby-plugin-react-helmet/).
- [gatsby-plugin-google-fonts](https://www.gatsbyjs.org/packages/gatsby-plugin-google-fonts/).
- [gatsby-plugin-styled-components](https://www.gatsbyjs.org/packages/gatsby-plugin-styled-components/).
- [gatsby-plugin-sharp](https://www.gatsbyjs.org/packages/gatsby-plugin-sharp/).
- [gatsby-remark-images](https://www.gatsbyjs.org/packages/gatsby-remark-images/).
- [gatsby-plugin-mdx](https://www.gatsbyjs.org/packages/gatsby-plugin-mdx/).
- [gatsby-source-filesystem](https://www.gatsbyjs.org/packages/gatsby-source-filesystem/).
- [gatsby-source-github-api](https://www.gatsbyjs.org/packages/gatsby-source-github-api/): needs a valid GitHub API token. If you don't want to display your pinned repositories you will have to remove the `HomeRepositories` functional component from your `index` page.
- [gatsby-plugin-google-analytics](https://www.gatsbyjs.org/packages/gatsby-plugin-google-analytics/): needs a valid Google Analytics key.

To add your GitHub's API token and your Google Analytics key you will need to create the following env variables:

```txt
GITHUB_API_TOKEN=YOURGITHUBAPITOKEN
GOOGLE_ANALYTICS_KEY=YOURGOOGLEANALYTICSKEY
```

> If you have any doubts about how to get a personal access token for the GitHub API check this [link](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token#using-a-token-on-the-command-line).

If you don't add a token for Github or a key to Google analytics those plugins won't be used, in the case of GitHub you have to perform a series of steps described [here](https://github.com/danielkvist/gatsby-arcadia-starter#github-sections) to avoid query errors.

## Theme

Arcadia uses a CSS-in-JS library called [styled-components](https://styled-components.com) which has support for theming. In the case of Arcadia, the `theme.js` file which define things like font sizes, spacing, line heights and colors can be found into the folder `/src/theme`.

> If you are not going to deeply customize Arcadia, I recommend you to change only the colors.

Unfortunately the theme cannot be applied everywhere. So if, for example, you change the colors used by Arcadia you will also need to update them in the main gatsby configuration file (`gatsby-config.js`), specifically in the `gatsby-plugin-manifest` configuration.

## MDX sections

Arcadia, by default, looks for the folder `/content/sections` (this path is customizable) to generate your home sections. You can have as many sections as you want as long as each MDX file has a `title` and an `order` specified in the frontmatter.

```mdx
---
title: Gatsby
order: 2
---

Gatsby is just amazing. Thanks to it and its great number of available plugins Arcadia has offline support among many other things. If you're not familiar with Gatsby don't worry, It's a really well documented project with a fantastic community.
```

If you want to know more about what MDX is check the official documentation [here](https://mdxjs.com/) or this page about [Gatsby and MDX](https://mdxjs.com/getting-started/gatsby).

## GitHub sections

This starter is intended to be used as portfolio for a developer. That's why I decided to add a section to showcase your most important repositories on GitHub.

If you don't want to display your pinned repositories you can remove the functional component `home-repositories.js` from your `index.js` page and remove the `home-repositories.js` component file. If you don't specify a `GITHUB_API_TOKEN` env variable the `gatsby-source-github-api` will not be used.

> If you're looking for or need support for GitLab, I'm sorry to say that at the moment I have no plans to add it as an alternative, although this may change in the future. I have nothing against GitLab, this is for practical reasons.

## Contact form

Arcadia uses [`react-hook-forms`](https://react-hook-form.com/) to manage the contact form. By default it comes with a field for a name, a contact email and a message. To modify this contact form to add or remove fields you will need to modify the functional component `home-form.js`.

For the moment it only works with Netlify forms, so if you disable the `netlifyForm` option in the `gatsby-config.js` file the form won't work.

To avoid bots or spam, once a message has been sent the form will disappear to display a "thank you!" message.

## Footer

The footer in Arcadia only shows the contact email, a list of links for your social networks and a copyright message. To change any of these values you can go and modify the `gatsby-config.js` file as explained [above](https://github.com/danielkvist/gatsby-arcadia-starter#site-metadata).

## Cypress E2E Testing

Arcadia also comes with [Cypress](https://www.cypress.io/) installed and ready to use. If you want to learn more about using Cypress with Gatsby check [this link from the official Gatsby documentation](https://www.gatsbyjs.org/docs/end-to-end-testing/).

## Help is always welcome!

If you have ideas to make Arcadia a better project or you detect any errors please do not hesitate to let me know either by sending a PR or by opening an issue!

## In the future

In the future I would like:

- ~~Convert Arcadia into a Gatsby theme~~.
- Add support for dark theme.
- Add support for blogging.
- Add support for multiple languages.
